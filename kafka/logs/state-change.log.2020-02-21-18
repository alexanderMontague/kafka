[2020-02-21 18:22:04,616] DEBUG preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@e73f9ac, name=log4j:logger=state.change.logger (state.change.logger)
[2020-02-21 18:22:16,190] TRACE [Controller id=1 epoch=6] Changed state of replica 2 for partition exampleTopic-0 from OnlineReplica to OnlineReplica (state.change.logger)
[2020-02-21 18:22:16,191] TRACE [Controller id=1 epoch=6] Changed state of replica 0 for partition example-0 from OnlineReplica to OnlineReplica (state.change.logger)
[2020-02-21 18:22:16,192] TRACE [Controller id=1 epoch=6] Sending become-follower LeaderAndIsr request PartitionState(controllerEpoch=5, leader=-1, leaderEpoch=5, isr=2, zkVersion=5, replicas=2, isNew=false) to broker 2 for partition exampleTopic-0 (state.change.logger)
[2020-02-21 18:22:16,193] TRACE [Controller id=1 epoch=6] Sending become-leader LeaderAndIsr request PartitionState(controllerEpoch=5, leader=0, leaderEpoch=4, isr=0, zkVersion=4, replicas=0, isNew=false) to broker 0 for partition example-0 (state.change.logger)
[2020-02-21 18:22:16,194] TRACE [Controller id=1 epoch=6] Sending UpdateMetadata request PartitionState(controllerEpoch=5, leader=0, leaderEpoch=4, isr=[0], zkVersion=4, replicas=[0], offlineReplicas=[]) to brokers Set(0, 1, 2) for partition example-0 (state.change.logger)
[2020-02-21 18:22:16,194] TRACE [Controller id=1 epoch=6] Sending UpdateMetadata request PartitionState(controllerEpoch=5, leader=-1, leaderEpoch=5, isr=[2], zkVersion=5, replicas=[2], offlineReplicas=[]) to brokers Set(0, 1, 2) for partition exampleTopic-0 (state.change.logger)
[2020-02-21 18:22:16,215] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 0 sent to broker localhost:9091 (id: 1 rack: null) (state.change.logger)
[2020-02-21 18:22:16,216] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 0 sent to broker localhost:9092 (id: 2 rack: null) (state.change.logger)
[2020-02-21 18:22:16,224] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 0 sent to broker localhost:9090 (id: 0 rack: null) (state.change.logger)
[2020-02-21 18:22:16,226] TRACE [Broker id=1] Cached leader info PartitionState(controllerEpoch=5, leader=-1, leaderEpoch=5, isr=[2], zkVersion=5, replicas=[2], offlineReplicas=[]) for partition exampleTopic-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 1 (state.change.logger)
[2020-02-21 18:22:16,226] TRACE [Broker id=1] Cached leader info PartitionState(controllerEpoch=5, leader=0, leaderEpoch=4, isr=[0], zkVersion=4, replicas=[0], offlineReplicas=[]) for partition example-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 1 (state.change.logger)
[2020-02-21 18:22:16,227] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 1 sent to broker localhost:9091 (id: 1 rack: null) (state.change.logger)
[2020-02-21 18:22:16,227] TRACE [Broker id=2] Received LeaderAndIsr request PartitionState(controllerEpoch=5, leader=-1, leaderEpoch=5, isr=2, zkVersion=5, replicas=2, isNew=false) correlation id 1 from controller 1 epoch 6 for partition exampleTopic-0 (state.change.logger)
[2020-02-21 18:22:16,233] TRACE [Broker id=0] Received LeaderAndIsr request PartitionState(controllerEpoch=5, leader=0, leaderEpoch=4, isr=0, zkVersion=4, replicas=0, isNew=false) correlation id 1 from controller 1 epoch 6 for partition example-0 (state.change.logger)
[2020-02-21 18:22:16,235] TRACE [Broker id=2] Handling LeaderAndIsr request correlationId 1 from controller 1 epoch 6 starting the become-follower transition for partition exampleTopic-0 with leader -1 (state.change.logger)
[2020-02-21 18:22:16,237] ERROR [Broker id=2] Received LeaderAndIsrRequest with correlation id 1 from controller 1 epoch 6 for partition exampleTopic-0 (last update controller epoch 5) but cannot become follower since the new leader -1 is unavailable. (state.change.logger)
[2020-02-21 18:22:16,238] TRACE [Broker id=0] Handling LeaderAndIsr request correlationId 1 from controller 1 epoch 6 starting the become-leader transition for partition example-0 (state.change.logger)
[2020-02-21 18:22:16,259] TRACE [Controller id=1 epoch=6] Changed partition exampleTopic-0 from OfflinePartition to OnlinePartition with state LeaderAndIsr(leader=2, leaderEpoch=6, isr=List(2), zkVersion=6) (state.change.logger)
[2020-02-21 18:22:16,259] TRACE [Controller id=1 epoch=6] Sending become-leader LeaderAndIsr request PartitionState(controllerEpoch=6, leader=2, leaderEpoch=6, isr=2, zkVersion=6, replicas=2, isNew=false) to broker 2 for partition exampleTopic-0 (state.change.logger)
[2020-02-21 18:22:16,260] TRACE [Controller id=1 epoch=6] Sending UpdateMetadata request PartitionState(controllerEpoch=6, leader=2, leaderEpoch=6, isr=[2], zkVersion=6, replicas=[2], offlineReplicas=[]) to brokers Set(0, 1, 2) for partition exampleTopic-0 (state.change.logger)
[2020-02-21 18:22:16,261] TRACE [Broker id=1] Cached leader info PartitionState(controllerEpoch=6, leader=2, leaderEpoch=6, isr=[2], zkVersion=6, replicas=[2], offlineReplicas=[]) for partition exampleTopic-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 2 (state.change.logger)
[2020-02-21 18:22:16,262] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 2 sent to broker localhost:9091 (id: 1 rack: null) (state.change.logger)
[2020-02-21 18:22:16,264] TRACE [Broker id=2] Completed LeaderAndIsr request correlationId 1 from controller 1 epoch 6 for the become-follower transition for partition exampleTopic-0 with leader -1 (state.change.logger)
[2020-02-21 18:22:16,270] TRACE [Controller id=1 epoch=6] Received response {error_code=0,partitions=[{topic=exampleTopic,partition=0,error_code=0}]} for request LEADER_AND_ISR with correlation id 1 sent to broker localhost:9092 (id: 2 rack: null) (state.change.logger)
[2020-02-21 18:22:16,275] TRACE [Broker id=0] Stopped fetchers as part of become-leader request from controller 1 epoch 6 with correlation id 1 for partition example-0 (last update controller epoch 5) (state.change.logger)
[2020-02-21 18:22:16,275] TRACE [Broker id=0] Completed LeaderAndIsr request correlationId 1 from controller 1 epoch 6 for the become-leader transition for partition example-0 (state.change.logger)
[2020-02-21 18:22:16,275] TRACE [Broker id=2] Cached leader info PartitionState(controllerEpoch=5, leader=-1, leaderEpoch=5, isr=[2], zkVersion=5, replicas=[2], offlineReplicas=[]) for partition exampleTopic-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 2 (state.change.logger)
[2020-02-21 18:22:16,276] TRACE [Broker id=2] Cached leader info PartitionState(controllerEpoch=5, leader=0, leaderEpoch=4, isr=[0], zkVersion=4, replicas=[0], offlineReplicas=[]) for partition example-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 2 (state.change.logger)
[2020-02-21 18:22:16,276] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 2 sent to broker localhost:9092 (id: 2 rack: null) (state.change.logger)
[2020-02-21 18:22:16,278] TRACE [Broker id=2] Received LeaderAndIsr request PartitionState(controllerEpoch=6, leader=2, leaderEpoch=6, isr=2, zkVersion=6, replicas=2, isNew=false) correlation id 3 from controller 1 epoch 6 for partition exampleTopic-0 (state.change.logger)
[2020-02-21 18:22:16,281] TRACE [Broker id=2] Handling LeaderAndIsr request correlationId 3 from controller 1 epoch 6 starting the become-leader transition for partition exampleTopic-0 (state.change.logger)
[2020-02-21 18:22:16,284] TRACE [Controller id=1 epoch=6] Received response {error_code=0,partitions=[{topic=example,partition=0,error_code=0}]} for request LEADER_AND_ISR with correlation id 1 sent to broker localhost:9090 (id: 0 rack: null) (state.change.logger)
[2020-02-21 18:22:16,295] TRACE [Broker id=0] Cached leader info PartitionState(controllerEpoch=5, leader=-1, leaderEpoch=5, isr=[2], zkVersion=5, replicas=[2], offlineReplicas=[]) for partition exampleTopic-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 2 (state.change.logger)
[2020-02-21 18:22:16,296] TRACE [Broker id=0] Cached leader info PartitionState(controllerEpoch=5, leader=0, leaderEpoch=4, isr=[0], zkVersion=4, replicas=[0], offlineReplicas=[]) for partition example-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 2 (state.change.logger)
[2020-02-21 18:22:16,298] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 2 sent to broker localhost:9090 (id: 0 rack: null) (state.change.logger)
[2020-02-21 18:22:16,301] TRACE [Broker id=0] Cached leader info PartitionState(controllerEpoch=6, leader=2, leaderEpoch=6, isr=[2], zkVersion=6, replicas=[2], offlineReplicas=[]) for partition exampleTopic-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 3 (state.change.logger)
[2020-02-21 18:22:16,302] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 3 sent to broker localhost:9090 (id: 0 rack: null) (state.change.logger)
[2020-02-21 18:22:16,311] TRACE [Broker id=2] Stopped fetchers as part of become-leader request from controller 1 epoch 6 with correlation id 3 for partition exampleTopic-0 (last update controller epoch 6) (state.change.logger)
[2020-02-21 18:22:16,312] TRACE [Broker id=2] Completed LeaderAndIsr request correlationId 3 from controller 1 epoch 6 for the become-leader transition for partition exampleTopic-0 (state.change.logger)
[2020-02-21 18:22:16,314] TRACE [Controller id=1 epoch=6] Received response {error_code=0,partitions=[{topic=exampleTopic,partition=0,error_code=0}]} for request LEADER_AND_ISR with correlation id 3 sent to broker localhost:9092 (id: 2 rack: null) (state.change.logger)
[2020-02-21 18:22:16,316] TRACE [Broker id=2] Cached leader info PartitionState(controllerEpoch=6, leader=2, leaderEpoch=6, isr=[2], zkVersion=6, replicas=[2], offlineReplicas=[]) for partition exampleTopic-0 in response to UpdateMetadata request sent by controller 1 epoch 6 with correlation id 4 (state.change.logger)
[2020-02-21 18:22:16,317] TRACE [Controller id=1 epoch=6] Received response {error_code=0} for request UPDATE_METADATA with correlation id 4 sent to broker localhost:9092 (id: 2 rack: null) (state.change.logger)
